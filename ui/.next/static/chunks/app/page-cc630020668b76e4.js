(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4884:function(e,s,t){Promise.resolve().then(t.bind(t,7512))},7512:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var a=t(3827),r=t(4090),n=t(7326),l=t(933),i=t(3236),c=t(65),d=t(5032),x=t(3276),o=t(3167),m=t(1367);function h(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,m.m6)((0,o.W)(s))}let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:h("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});u.displayName="Card";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:h("flex flex-col space-y-1.5 p-6",t),...r})});f.displayName="CardHeader";let j=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:h("text-2xl font-semibold leading-none tracking-tight",t),...r})});j.displayName="CardTitle";let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:h("text-sm text-muted-foreground",t),...r})});p.displayName="CardDescription";let g=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:h("p-6 pt-0",t),...r})});g.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:h("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";let N=(0,t(9769).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=r.forwardRef((e,s)=>{let{className:t,variant:r,size:n,...l}=e;return(0,a.jsx)("button",{className:h(N({variant:r,size:n,className:t})),ref:s,...l})});function y(){let[e,s]=(0,r.useState)(null),[t,o]=(0,r.useState)(!0),[m,h]=(0,r.useState)(null),[N,y]=(0,r.useState)(""),[v,w]=(0,r.useState)(!1),S=async e=>{try{let t=await fetch("".concat("http://localhost:3100","/api/v1/stats"),{headers:{Authorization:"Bearer ".concat(e)}});if(401===t.status){h("Invalid token. Please check your STATS_TOKEN."),o(!1);return}if(!t.ok)throw Error("Failed to fetch stats");let a=await t.json();s(a),w(!0),h(null)}catch(e){h("Failed to connect to Anonamoose API")}finally{o(!1)}};return((0,r.useEffect)(()=>{if(v){let e=setInterval(()=>S(N),5e3);return()=>clearInterval(e)}},[v,N]),v)?t||!e?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(n.Z,{className:"h-12 w-12 animate-spin mx-auto text-blue-600"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading stats..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Z,{className:"h-8 w-8 text-blue-600"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Anonamoose"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"h-2 w-2 rounded-full ".concat(e.redisConnected?"bg-green-500":"bg-red-500")}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.redisConnected?"Redis Connected":"Redis Disconnected"})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,a.jsxs)(u,{children:[(0,a.jsxs)(f,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(j,{className:"text-sm font-medium",children:"Requests Redacted"}),(0,a.jsx)(i.Z,{className:"h-4 w-4 text-green-600"})]}),(0,a.jsxs)(g,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold",children:e.requestsRedacted.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Total redactions performed"})]})]}),(0,a.jsxs)(u,{children:[(0,a.jsxs)(f,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(j,{className:"text-sm font-medium",children:"PII Detected"}),(0,a.jsx)(c.Z,{className:"h-4 w-4 text-red-600"})]}),(0,a.jsxs)(g,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold",children:e.piiDetected.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Total PII findings"})]})]}),(0,a.jsxs)(u,{children:[(0,a.jsxs)(f,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(j,{className:"text-sm font-medium",children:"Active Sessions"}),(0,a.jsx)(d.Z,{className:"h-4 w-4 text-blue-600"})]}),(0,a.jsxs)(g,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold",children:e.activeSessions}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Current rehydration sessions"})]})]}),(0,a.jsxs)(u,{children:[(0,a.jsxs)(f,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(j,{className:"text-sm font-medium",children:"Dictionary Size"}),(0,a.jsx)(x.Z,{className:"h-4 w-4 text-purple-600"})]}),(0,a.jsxs)(g,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold",children:e.dictionarySize}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Guaranteed redaction terms"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)(u,{children:[(0,a.jsxs)(f,{children:[(0,a.jsx)(j,{className:"text-lg",children:"Detection by Layer"}),(0,a.jsx)(p,{children:"PII detected by redaction layer"})]}),(0,a.jsx)(g,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Dictionary (Guaranteed)"}),(0,a.jsx)("span",{className:"text-lg font-bold text-green-600",children:e.dictionaryHits})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(e.piiDetected?e.dictionaryHits/e.piiDetected*100:0,"%")}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Regex Patterns"}),(0,a.jsx)("span",{className:"text-lg font-bold text-blue-600",children:e.regexHits})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.piiDetected?e.regexHits/e.piiDetected*100:0,"%")}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"NER Detection"}),(0,a.jsx)("span",{className:"text-lg font-bold text-purple-600",children:e.nerHits})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"".concat(e.piiDetected?e.nerHits/e.piiDetected*100:0,"%")}})})]})})]}),(0,a.jsxs)(u,{children:[(0,a.jsxs)(f,{children:[(0,a.jsx)(j,{className:"text-lg",children:"Rehydration"}),(0,a.jsx)(p,{children:"Restoring redacted data"})]}),(0,a.jsx)(g,{children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-4xl font-bold text-blue-600",children:e.requestsHydrated.toLocaleString()}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Requests hydrated"})]})})]}),(0,a.jsxs)(u,{children:[(0,a.jsxs)(f,{children:[(0,a.jsx)(j,{className:"text-lg",children:"System Status"}),(0,a.jsx)(p,{children:"Current system health"})]}),(0,a.jsx)(g,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[(0,a.jsx)("span",{className:"text-sm",children:"API Status"}),(0,a.jsx)("span",{className:"text-green-600 font-medium",children:"Online"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[(0,a.jsx)("span",{className:"text-sm",children:"Redis"}),(0,a.jsx)("span",{className:e.redisConnected?"text-green-600":"text-red-600",children:e.redisConnected?"Connected":"Disconnected"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[(0,a.jsx)("span",{className:"text-sm",children:"NER Layer"}),(0,a.jsx)("span",{className:"text-gray-600",children:"Available"})]})]})})]})]})]})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)(u,{className:"w-[400px]",children:[(0,a.jsxs)(f,{children:[(0,a.jsxs)(j,{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Z,{className:"h-6 w-6 text-blue-600"}),"Anonamoose"]}),(0,a.jsx)(p,{children:"Enter your stats token to access the dashboard"})]}),(0,a.jsx)(g,{children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o(!0),S(N)},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Stats Token"}),(0,a.jsxs)("div",{className:"mt-1 flex",children:[(0,a.jsx)("input",{type:"password",value:N,onChange:e=>y(e.target.value),className:"flex h-10 w-full rounded-l-md border border-input bg-background px-3 py-2 text-sm",placeholder:"Enter your STATS_TOKEN"}),(0,a.jsxs)(b,{type:"submit",className:"rounded-l-none",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Access"]})]})]}),m&&(0,a.jsx)("p",{className:"text-sm text-red-600",children:m})]})})]})})}b.displayName="Button"}},function(e){e.O(0,[140,971,69,744],function(){return e(e.s=4884)}),_N_E=e.O()}]);